<!DOCTYPE html>
<html lang="eng">

<head>
    <title>Chatbox</title>
    <style>
        .chatbox {
            border: 1px solid #ccc;
            padding: 10px;
            margin-bottom: 10px;
            height: 300px;
            overflow-y: scroll;
        }
    </style>
</head>

<body>
    <h1>Chatbox</h1>
    <div class="chatbox" id="chatbox">
        <!-- Chat messages will be displayed here -->
    </div>
    <form action="/chat" method="POST">
        <input type="text" name="user_input" id="user_input" placeholder="Enter your message" required>
        <input type="submit" value="Send">
    </form>

    <script>
        document.querySelector('form').addEventListener('submit', (event) => {
            event.preventDefault();
            const userInput = document.getElementById('user_input').value;
            const message = document.createElement('p');
            message.innerHTML = `User: ${userInput}`;
            document.getElementById('chatbox').appendChild(message);
            document.getElementById('user_input').value = '';

            fetch('/chat', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/x-www-form-urlencoded',
                },
                body: `user_input=${userInput}`
            })
            .then(response => response.text())
            .then(output => {
                const botMessage = document.createElement('p');
                botMessage.innerHTML = `Bot: ${output}`;
                document.getElementById('chatbox').appendChild(botMessage);
            });
        });
    </script>
</body>
</html>
